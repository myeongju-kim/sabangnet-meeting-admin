<!-- admin.html (GitHub Pages에 그대로 올리면 됨) -->
<!doctype html>
<html lang="ko">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Meeting Admin</title>
    <link rel="stylesheet" href="admin.css">
</head>

<body>
    <div class="wrap">
        <h1>Meeting Admin</h1>
        <div class="muted">Presenter CRUD만 하는 심플 관리자 페이지</div>

        <div class="card">
            <div class="row">
                <div><span class="pill" id="authState">로그인 필요</span></div>
                <div class="spacer"></div>
                <button id="btnLogin" class="primary">Google 로그인</button>
                <button id="btnLogout">로그아웃</button>
            </div>
            <div class="muted" style="margin-top:8px;">
                권장: Firestore Rules에서 <span class="mono">request.auth.token.email</span> 로 관리자만 write 허용하세요.
            </div>
            <div id="msg" style="margin-top:10px;"></div>
        </div>

        <div class="card">
            <h2 style="margin:0 0 12px; font-size:16px;">Presenter 등록/수정</h2>

            <div class="row" style="align-items:flex-end;">
                <div>
                    <label>이름</label>
                    <input id="name" type="text" placeholder="예: 김명주" maxlength="40" />
                </div>
                <div>
                    <label>일자</label>
                    <input id="date" type="date" />
                </div>
                <div>
                    <label>발표유형</label>
                    <select id="type">
                        <option value="GENERAL">GENERAL</option>
                        <option value="AI">AI</option>
                        <option value="CODE_REVIEW">CODE_REVIEW</option>
                        <option value="RETRO">RETRO</option>
                    </select>
                </div>

                <div class="spacer"></div>

                <button id="btnReset">초기화</button>
                <button id="btnSave" class="primary">저장(Insert/Update)</button>
            </div>

            <div class="muted" style="margin-top:8px;">
                문서 ID는 기본적으로 <span class="mono">dateKey_name</span> 형태로 생성됩니다 (예: <span
                    class="mono">20260107_kimmyungju</span>).<br />
                같은 ID면 Update, 없으면 Insert.
            </div>
        </div>

        <div class="card">
            <div class="row">
                <h2 style="margin:0; font-size:16px;">Presenter 목록</h2>
                <div class="spacer"></div>
                <button id="btnReload">새로고침</button>
            </div>

            <div style="margin-top:12px; overflow:auto;">
                <table>
                    <thead>
                        <tr>
                            <th>dateKey</th>
                            <th>일자</th>
                            <th>이름</th>
                            <th>유형</th>
                            <th>docId</th>
                            <th style="width:180px;">액션</th>
                        </tr>
                    </thead>
                    <tbody id="tbody">
                        <tr>
                            <td colspan="6" class="muted">로딩 전</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="card">
            <div class="row">
                <h2 style="margin:0; font-size:16px;">Boards(댓글) 관리</h2>
                <div class="spacer"></div>
                <div class="pill" id="selectedPresenterPill">선택된 발표자: 없음</div>
                <button id="btnBoardsReload" disabled>댓글 새로고침</button>
            </div>

            <div class="muted" style="margin-top:8px;">
                Presenter 목록에서 “수정”을 누르면 해당 Presenter가 선택되고, 그 아래에 boards가 로드됩니다.
            </div>

            <div style="margin-top:12px; overflow:auto;">
                <table>
                    <thead>
                        <tr>
                            <th>createdAt</th>
                            <th>nickname</th>
                            <th>message</th>
                            <th style="width:120px;">액션</th>
                        </tr>
                    </thead>
                    <tbody id="boardsTbody">
                        <tr>
                            <td colspan="4" class="muted">발표자를 선택하세요.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script type="module" src="admin.js"></script>
</body>

</html>